


概述
====


前言
----

对代码风格进行规范的利弊分析

 - 优点：代码结构清晰，容易阅读和理解，有助于团队成员之间的合作。
 - 缺点：改变之前形成的一些习惯进行需要适应期，影响开发效率。对代码进行风格排版会浪费一些时间。

在此我仅作为一名发起人，请大家一起参与探讨并完善本规范。


目标
----

> 整洁、规范、统一的代码容易阅读与交流。



命名规则
========


文件
----


变量
----


常量
----


函数
----


参数
----


类名
----


方法
----


> 鉴于当前使用 ThinkPHP 框架开发，则建议沿袭框架的命名风格，暂不另作规范建议，但应尽量保持风格统一。



代码格式
========


缩进
----

> [强制] 统一使用空格，每级缩进 4 个空格。

> [强制] 缩进应严格按照级别对齐。


空格
----

> [强制] if / while / for 等流程控制关键字与 `(` 之间应加空格，并且 `)` 与 `{` 之间也应加空格。

示例：
```php
if (true) {
}
```
> [强制] 逗号 `,` 以及分号 `;` 后面应加空格。

示例：
```php
foo($par_a, $par_b, $par_c);
for ($i = 0; $i < 10; $i++) {
}
```

> [强制] 多元运算符的前后应加空格。

示例：
```php
$a = $b + $c;
$v = $a ? $b : $c;
```


空行
----

> [强制] 函数、类、方法的定义前应空行；如有相应注释，在注释前空行。

示例：

```php
function foo($a, $b, $c)
{
    return true;
}

/* 注释 */
function bar()
{
    return true;
}
```

> [建议] 如果语句段内语句太多，应按照每完成一小步的动作用空行进行分组。并给出每组注释。


分行
----

> [强制] 当 if/while 等流程控制的子语句只有简单的一行时，也应放到下一行，并加缩进。

应将：

```php
if (true) return true;
```

写成：

```php
if (true)
    return true;
```

> [建议] 如果参数太多，应进行分行。分行要增加一级缩进。能分组的可按分组进行分行。

参数分行：

```php
my_func($par_a,
    $par_b,
    $par_c);
```

分组分行：

```php
show($name, $title,
    $x, $y, $width, $height);
```


中括号
------

> [强制] 函数、类或者方法定义时，左中括号 `{` 应放到下一行并与定义对齐。

示例：

```php
class A
{
    protected function M()
    {
        print('hello');
    }
}
```

> [建议] 用于 if/while 等流程控制的左中括号 `{` 应放在同一行的末尾。

示例：

```php
if ($var) {
    return true;
}
```
